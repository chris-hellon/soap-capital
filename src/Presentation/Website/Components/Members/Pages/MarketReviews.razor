@page "/members/market-reviews"

@inherits VideosEntityTablePage

@using SoapCapital.Application.Catalog.Videos.Queries
@using SoapCapital.Application.Catalog.Videos.Dto

@inject IVideosService VideosService

<SectionContent SectionName="PageHeaderTitle">
    <PageHeaderTitle Title="Market Reviews"></PageHeaderTitle>
</SectionContent>

<EntityTable TEntity="VideoDto" EntityList="TableEntities" Fields="TableFields" SearchFunc="SearchVideos" Loading="Loading"/>

@code {
    protected override string SubSection => "market-reviews";
    protected override string Section => "members";
    
    protected override async Task<Task> OnInitializedAsync()
    {
        TableEntities = await VideosService.GetVideos(new GetMarketReviewsRequest());

        return base.OnInitializedAsync();
    }
}